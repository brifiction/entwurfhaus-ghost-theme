{"version":3,"file":"jquery.fitvids.js","sources":["jquery.fitvids.js"],"sourcesContent":["/*jshint browser:true */\r\n/*!\r\n* FitVids 1.3\r\n*\r\n*\r\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\r\n* This is an unofficial release, ported by John O'Nolan\r\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\r\n* Released under the MIT license\r\n*\r\n*/\r\n\r\n;(function( $ ){\r\n\r\n  'use strict';\r\n\r\n  $.fn.fitVids = function( options ) {\r\n    var settings = {\r\n      customSelector: null,\r\n      ignore: null\r\n    };\r\n\r\n    if(!document.getElementById('fit-vids-style')) {\r\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\r\n      var head = document.head || document.getElementsByTagName('head')[0];\r\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\r\n      var div = document.createElement(\"div\");\r\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\r\n      head.appendChild(div.childNodes[1]);\r\n    }\r\n\r\n    if ( options ) {\r\n      $.extend( settings, options );\r\n    }\r\n\r\n    return this.each(function(){\r\n      var selectors = [\r\n        'iframe[src*=\"player.vimeo.com\"]',\r\n        'iframe[src*=\"youtube.com\"]',\r\n        'iframe[src*=\"youtube-nocookie.com\"]',\r\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\r\n        'object',\r\n        'embed'\r\n      ];\r\n\r\n      if (settings.customSelector) {\r\n        selectors.push(settings.customSelector);\r\n      }\r\n\r\n      var ignoreList = '.fitvidsignore';\r\n\r\n      if(settings.ignore) {\r\n        ignoreList = ignoreList + ', ' + settings.ignore;\r\n      }\r\n\r\n      var $allVideos = $(this).find(selectors.join(','));\r\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\r\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\r\n\r\n      $allVideos.each(function(){\r\n        var $this = $(this);\r\n        if($this.parents(ignoreList).length > 0) {\r\n          return; // Disable FitVids on this video.\r\n        }\r\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\r\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\r\n        {\r\n          $this.attr('height', 9);\r\n          $this.attr('width', 16);\r\n        }\r\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\r\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\r\n            aspectRatio = height / width;\r\n        if(!$this.attr('name')){\r\n          var videoName = 'fitvid' + $.fn.fitVids._count;\r\n          $this.attr('name', videoName);\r\n          $.fn.fitVids._count++;\r\n        }\r\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\r\n        $this.removeAttr('height').removeAttr('width');\r\n      });\r\n    });\r\n  };\r\n\r\n  // Internal counter for unique video names.\r\n  $.fn.fitVids._count = 0;\r\n\r\n// Works with either jQuery or Zepto\r\n})( window.jQuery || window.Zepto );\r\n"],"names":["$","fn","fitVids","options","head","div","settings","customSelector","ignore","document","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","this","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","parseInt","height","width","_count","wrap","removeAttr","window","jQuery","Zepto"],"mappings":"CAYC,SAAWA,gBAIVA,EAAEC,GAAGC,QAAU,SAAUC,GACvB,IAOMC,EAEAC,EATFC,EAAW,CACbC,eAAgB,KAChBC,OAAQ,MAgBV,OAbIC,SAASC,eAAe,oBAEtBN,EAAOK,SAASL,MAAQK,SAASE,qBAAqB,QAAQ,IAE9DN,EAAMI,SAASG,cAAc,QAC7BC,UAAY,oUAChBT,EAAKU,YAAYT,EAAIU,WAAW,KAG7BZ,GACHH,EAAEgB,OAAQV,EAAUH,GAGfc,KAAKC,KAAK,WACf,IAAIC,EAAY,CACd,kCACA,6BACA,sCACA,oDACA,SACA,SAGEb,EAASC,gBACXY,EAAUC,KAAKd,EAASC,gBAG1B,IAAIc,EAAa,iBAEdf,EAASE,SACVa,EAAaA,EAAa,KAAOf,EAASE,QAG5C,IAAIc,EAAatB,EAAEiB,MAAMM,KAAKJ,EAAUK,KAAK,OAE7CF,GADAA,EAAaA,EAAWG,IAAI,kBACJA,IAAIJ,IAEjBH,KAAK,WACd,IAYIQ,EAEEC,EAdFC,EAAQ5B,EAAEiB,MACwB,EAAnCW,EAAMC,QAAQR,GAAYS,QAGM,UAA/Bb,KAAKc,QAAQC,eAA6BJ,EAAMK,OAAO,UAAUH,QAAUF,EAAMK,OAAO,8BAA8BH,SACpHF,EAAMM,IAAI,WAAcN,EAAMM,IAAI,WAAcC,MAAMP,EAAMQ,KAAK,aAAcD,MAAMP,EAAMQ,KAAK,YAEpGR,EAAMQ,KAAK,SAAU,GACrBR,EAAMQ,KAAK,QAAS,KAIlBV,GAF0C,WAA/BT,KAAKc,QAAQC,eAA+BJ,EAAMQ,KAAK,YAAcD,MAAME,SAAST,EAAMQ,KAAK,UAAW,KAAUC,SAAST,EAAMQ,KAAK,UAAW,IAAMR,EAAMU,WACjKH,MAAME,SAAST,EAAMQ,KAAK,SAAU,KAA2CR,EAAMW,QAA1CF,SAAST,EAAMQ,KAAK,SAAU,KAElFR,EAAMQ,KAAK,UACTT,EAAY,SAAW3B,EAAEC,GAAGC,QAAQsC,OACxCZ,EAAMQ,KAAK,OAAQT,GACnB3B,EAAEC,GAAGC,QAAQsC,UAEfZ,EAAMa,KAAK,gGAAgGR,OAAO,8BAA8BC,IAAI,cAA8B,IAAdR,EAAmB,KACvLE,EAAMc,WAAW,UAAUA,WAAW,eAM5C1C,EAAEC,GAAGC,QAAQsC,OAAS,EAzEvB,CA4EGG,OAAOC,QAAUD,OAAOE"}